<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.gd.sakila.mapper.StaffMapper">
	
	<!-- staff 로그인 -->
	<select id="selectStaffByLogin" parameterType="com.gd.sakila.vo.Staff" resultType="com.gd.sakila.vo.Staff">
		SELECT
			staff_id staffId,
			email email,
			username
		FROM staff 
		WHERE email = #{email} <!-- getEmail() -->
		AND password = PASSWORD(#{password}) <!-- getPassword() -->
	</select>
	
	<!-- staff 리스트 -->
	<select id="selectStaffList" resultType="java.util.Map" parameterType="Integer">
		SELECT 	s.staff_id staffId,s.first_name firstName, s.last_name lastName, a.address address , a.postal_code postalCode, a.phone phone,
				city.city city, country.country country, s.store_id storeId
		FROM staff s JOIN address a ON s.address_id = a.address_id JOIN city ON a.city_id = city.city_id
		JOIN country ON city.country_id = country.country_id	
	</select>
	
	
</mapper>